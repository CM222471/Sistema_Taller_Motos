<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: header(title = 'Pago')">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Pago</title>

</head>
<body>
    <div id="wrapper">
        <div th:replace="fragments/sidebar :: sidebar"></div>

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <div class="container-fluid p-4">
    <div class="card shadow-lg rounded-4">
        <div class="card-header bg-primary text-white text-center">
            <h4><i class="bi bi-credit-card"></i> Registrar Pago</h4>
        </div>

        <div class="card-body">
            <form th:action="@{/movimiento/pago}" th:object="${cuenta}" method="post">

                <input type="hidden" th:field="*{idCuenta}"/>

                <!-- Cliente -->
                <div class="mb-3">
                    <label class="form-label fw-bold">Cliente</label>
                    <p class="form-control-plaintext" 
                       th:text="${cuenta.cliente.nombres + ' ' + cuenta.cliente.apellidos}">Nombre del cliente</p>
                </div>

                <!-- Servicio -->
                <div class="mb-3">
                    <label class="form-label fw-bold">Servicio</label>
                    <p class="form-control-plaintext" 
                       th:text="${cuenta.servicio.nombreServicio}">Cambio de aceite</p>
                </div>

                <div class="row">
                    <!-- Monto total -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label fw-bold">Monto Total ($)</label>
                        <input type="text" class="form-control" th:value="${cuenta.montoTotal}" readonly>
                    </div>

                    <!-- Monto pagado -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label fw-bold">Pagado ($)</label>
                        <input type="text" class="form-control" th:value="${cuenta.montoPagado}" readonly>
                    </div>

                    <!-- Saldo pendiente -->
                    <div class="col-md-4 mb-3">
                        <label class="form-label fw-bold">Saldo Pendiente ($)</label>
                        <input type="text" class="form-control text-danger fw-bold" 
                               th:value="${cuenta.saldoPendiente}" readonly>
                    </div>
                </div>

                <!-- Ingreso del nuevo pago -->
                <div class="mb-3">
                    <label class="form-label fw-bold">Monto a abonar ($)</label>
                    <input type="number" min="0.01" step="0.01" class="form-control" name="montoAbono" required>
                </div>

                

                <div class="d-flex justify-content-between mt-4">
                    <a th:href="@{/movimiento}" class="btn btn-secondary">
                        <i class="bi bi-arrow-left"></i> Volver
                    </a>

                    <button type="submit" class="btn btn-success">
                        <i class="bi bi-cash-coin"></i> Registrar Pago
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div th:replace="fragments/jsComponents :: jsScripts"></div>
</body>
</html>
